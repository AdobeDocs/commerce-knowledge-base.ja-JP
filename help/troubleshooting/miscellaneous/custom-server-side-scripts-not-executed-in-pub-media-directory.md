---
title: pub メディアディレクトリで実行されないカスタムサーバーサイドスクリプト
description: この記事では、「」に配置した場合にカスタムのサーバーサイドスクリプトが実行されない問題を修正しました。クラウドインフラストラクチャー上のAdobe Commerce アプリケーションの/pub/media/' ディレクトリ。 「」以来、これは想定されるセキュリティ制限です。/pub/media/' ディレクトリは書き込み可能です。 スクリプトを実行可能にするには、書き込み不可能なディレクトリ（例：）にスクリプトを配置します。/app/code/'または'./pub/'。
exl-id: fcad8a5d-47d6-4729-93a4-2410d7710d69
feature: Media
role: Developer
source-git-commit: 1d2e0c1b4a8e3d79a362500ee3ec7bde84a6ce0d
workflow-type: tm+mt
source-wordcount: '269'
ht-degree: 0%

---

# pub メディアディレクトリで実行されないカスタムサーバーサイドスクリプト

この記事では、クラウドインフラストラクチャー上のAdobe Commerce アプリケーションの `./pub/media/` ディレクトリに配置された場合に、カスタムサーバーサイドスクリプトが実行されない問題を修正します。 `./pub/media/` ディレクトリは書き込み可能なので、これは予想されるセキュリティ上の制限です。 スクリプトを実行可能にするには、`./app/code/` や `./pub/` などの書き込み不可のディレクトリにスクリプトを配置します。

## 影響を受けるバージョン

* クラウドインフラストラクチャー上のAdobe Commerce: 2.1.x 以降、スターターおよびプロプランアーキテクチャ、ウィングおよびレガシーアーキテクチャ

## 問題：スクリプトが実行されない

開始時にカスタムサーバーサイドスクリプトを実行できない。

例えば、エンドユーザー（Adobe Commerce ショッパー）が、スクリプト （*domain.com/media/directory/script.php* など）を使用して `\*.php` ファイルにアクセスするリンクをクリックすると、スクリプトは実行ではなくダウンロードされます。

## 原因：スクリプト ファイルの場所が正しくありません

この問題は、クラウドインフラストラクチャー上のAdobe Commerce アプリケーションの `./pub/media/` ディレクトリにスクリプトファイルが配置されている場合に発生します。 これは想定されている動作です。セキュリティ上の制限により、書き込み可能ディレクトリ（`./pub/media/`）のファイルは実行されません。

## 解決策：書き込み不可能なディレクトリにスクリプトを配置します

サーバーサイドのスクリプトを、`./app/code/` や `./pub/`」などの書き込み不可のディレクトリに格納する

## 関連ドキュメント

* 開発者向けドキュメントの [Cloud for Adobe Commerce/プロジェクト構造/書き込み可能ディレクトリ ](https://devdocs.magento.com/guides/v2.3/cloud/project/project-start.html#write-dir)。
