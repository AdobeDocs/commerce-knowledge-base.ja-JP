---
title: 「MDVA-40537：複数の CMS ページの URL キーが同じ場合、ストアビューを作成するとエラーが発生する。」
description: MDVA-40537 パッチでは、複数の CMS ページの URL キーが同じ場合に、ストア ビューを作成するとエラーが発生する問題が修正されています。 このパッチは、[Quality Patches Tool （QPT） ] （https://devdocs.magento.com/guides/v2.4/comp-mgr/patching.html#mqp） 1.1.4 がインストールされている場合に利用できます。 パッチ ID は MDVA-40537。 この問題はAdobe Commerce 2.4.1 で修正されました。
exl-id: d92400c9-0c5a-4416-820d-99ab4ba34003
feature: CMS
role: Admin
source-git-commit: 21d5bee77c87b93345e9e730642539f1e6b4730a
workflow-type: tm+mt
source-wordcount: '437'
ht-degree: 0%

---

# MDVA-40537：複数の CMS ページの URL キーが同じ場合、ストア表示を作成するとエラーが発生する。

MDVA-40537 パッチでは、複数の CMS ページの URL キーが同じ場合に、ストア ビューを作成するとエラーが発生する問題が修正されています。 このパッチは、 [品質向上パッチツール（QPT）](https://devdocs.magento.com/guides/v2.4/comp-mgr/patching.html#mqp) 1.1.4 がインストールされています。 パッチ ID は MDVA-40537。 この問題はAdobe Commerce 2.4.1 で修正されました。

## 影響を受ける製品とバージョン

**Adobe Commerce バージョン用のパッチが作成されます。**

Adobe Commerce（すべてのデプロイメント方法） 2.3.5-p2

**Adobe Commerce バージョンとの互換性：**

Adobe Commerce（すべてのデプロイメント方法） 2.3.4 - 2.4.0-p1

>[!NOTE]
>
>パッチは、新しい Quality Patches Tool リリースを使用する他のバージョンにも適用される可能性があります。 パッチがお使いのAdobe Commerceのバージョンと互換性があるかどうかを確認するには、 `magento/quality-patches` を最新バージョンにパッケージ化し、 [[!DNL Quality Patches Tool]：パッチの検索ページ](https://devdocs.magento.com/quality-patches/tool.html#patch-grid). パッチ ID を検索キーワードとして使用して、パッチを見つけます。


## 問題

複数の CMS ページの URL キーが同じである場合、ストア表示を作成する際にエラーが発生します。

<u>再現手順</u>:

1. に移動します **管理パネル** > **ストア** > **すべてのストア** 2 つのストア表示を作成します。

   ```sql
   Name: German
   Code: german
   Status: Enabled
   ```

   ```sql
   Name: French
   Code: french
   Status: Enabled
   ```

1. に移動します **管理パネル** > **コンテンツ** > **ページ** を実行し、2 つのページを作成します。

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: French
   ```

   ```sql
   Page Title: About Us
   URL Key: about-us
   Store View: German
   ```

1. に移動します **管理パネル** > **ストア** > **すべてのストア** 新しいストア表示を作成します。

   ```sql
   Name: Spanish
   Code: spanish
   Status: Enabled
   ```

<u>期待される結果</u>:

ストア表示が正常に作成されました。

<u>実際の結果</u>:

次のエラーメッセージが表示されます。 *保存中に問題が発生しました。 エラーログを確認してください。* ログには、次のような例外が含まれます。

```sql
Exception message: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'about-us-4' for key 'URL_REWRITE_REQUEST_PATH_STORE_ID', query was: INSERT  INTO }}url_rewrite{{ (}}redirect_type{{,}}is_autogenerated{{,}}metadata{{,}}description{{,}}store_id{{,}}entity_type{{,}}entity_id{{,}}request_path{{,}}target_path{{) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)
```

## パッチの適用

個々のパッチを適用するには、デプロイメント方法に応じて、次のリンクを使用します。

* Adobe CommerceまたはMagento Open Sourceオンプレミス： [[ ソフトウェア アップデート ガイド ] > [ パッチを適用 ]](https://devdocs.magento.com/guides/v2.4/comp-mgr/patching/mqp.html) 開発者向けドキュメントを参照してください。
* クラウドインフラストラクチャー上のAdobe Commerce: [「アップグレードとパッチ」 > 「パッチの適用」](https://devdocs.magento.com/cloud/project/project-patch.html) 開発者向けドキュメントを参照してください。

## 関連資料

品質向上パッチツールの詳細については、次を参照してください。

* [品質向上パッチツールのリリース：品質向上パッチをセルフサービスで提供する新しいツール](/help/announcements/adobe-commerce-announcements/magento-quality-patches-released-new-tool-to-self-serve-quality-patches.md) サポートナレッジベースで。
* [Quality Patches Tool を使用して、Adobe Commerceの問題に対するパッチが使用可能かどうかを確認します。](/help/support-tools/patches-available-in-qpt-tool/check-patch-for-magento-issue-with-magento-quality-patches.md) サポートナレッジベースで。

QPT で使用可能なその他のパッチについては、 [QPT で使用可能なパッチ](https://support.magento.com/hc/en-us/sections/360010506631-Patches-available-in-QPT-tool-) セクション。
